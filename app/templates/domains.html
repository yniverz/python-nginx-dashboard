{% extends "_layout.html" %}
{% block content %}
<h1>domains</h1>

<h2>add domain</h2>
<form method="post" action="/domains">
  <label>name <input name="name" required></label>
  <label>provider_account_id <input name="provider_account_id" type="number"></label>
  <label>provider_zone_id <input name="provider_zone_id"></label>
  <label>origin_ipv4 <input name="origin_ipv4" placeholder="203.0.113.42"></label>
  <label>origin_ipv6 <input name="origin_ipv6" placeholder="2001:db8::1"></label>
  <label>auto_wildcard <input name="auto_wildcard" type="checkbox" checked></label>
  <label>direct prefix <input name="auto_direct_prefix" value="direct"></label>
  <label>acme email <input name="acme_email" placeholder="ops@example.com"></label>
  <button type="submit">create</button>
</form>

<h2>list</h2>
<table>
  <tr><th>id</th><th>name</th><th>zone</th><th>origin v4/v6</th><th>wildcard</th><th>direct</th><th>actions</th></tr>
  {% for d in domains %}
  <tr>
    <td>{{ d.id }}</td>
    <td>{{ d.name }}</td>
    <td>{{ d.provider_zone_id or "-" }}</td>
    <td>{{ d.origin_ipv4 or "-" }} / {{ d.origin_ipv6 or "-" }}</td>
    <td>{{ "yes" if d.auto_wildcard else "no" }}</td>
    <td>{{ d.auto_direct_prefix or "-" }}</td>
    <td>
      <form method="post" action="/domains/{{d.id}}/verify-zone" style="display:inline"><button>verify zone</button></form>
      <form method="post" action="/domains/{{d.id}}/reconcile" style="display:inline"><button>reconcile</button></form>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
