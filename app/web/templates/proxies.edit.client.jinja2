{% extends "_layout.jinja2" %}

{% block title %}Edit Proxy Client{% endblock %}

{% block content %}
<h2>Edit Proxy Client</h2>
<form method="post" action="{{ url_for('update_proxy_client', client_id=client.id) }}">
    <div>
        <label for="name">Client Name:</label>
        <input type="text" id="name" name="name" value="{{ client.name }}" required>
    </div>
    <div>
        <label for="address">Server:</label>
        <select name="server_id" required>
            {% for server in servers %}
                <option value="{{ server.id }}" {% if server.id == client.server.id %}selected{% endif %}>{{ server.name }}</option>
            {% endfor %}
        </select>
    </div>

    <div>
        <label for="is_origin">Is Origin:</label>
        <input type="checkbox" id="is_origin" name="is_origin" {% if client.is_origin %}checked{% endif %}>
    </div>

    <button type="submit">Save</button>
    <a href="{{ url_for('view_proxies') }}">Cancel</a>
</form>

<form method="post" action="{{ url_for('delete_proxy_client', client_id=client.id) }}" onsubmit="return confirm('Are you sure you want to delete this client?');">
    <button type="submit">Delete Client</button>
</form>
{% endblock %}