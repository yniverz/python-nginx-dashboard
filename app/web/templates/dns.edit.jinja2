{% extends "_layout.jinja2" %}

{% block content %}
<h1>Edit DNS Record</h1>

<form method="POST" action="{{ url_for('edit_dns_record', record_id=record.id) }}">
    <label for="name">Name</label>
    <input type="text" name="name" placeholder="Name" value="{{ record.name }}" required><br>
    <label for="domain_id">Domain</label>
    <select name="domain_id" required>
        {% for domain in domains %}
        <option value="{{ domain.id }}" {% if domain.id == record.domain_id %}selected{% endif %}>{{ domain.name }}</option>
        {% endfor %}
    </select><br>
    <label for="type">Type</label>
    <select name="type" required>
        <option value="A" {% if record.type == "A" %}selected{% endif %}>A</option>
        <option value="AAAA" {% if record.type == "AAAA" %}selected{% endif %}>AAAA</option>
        <option value="CNAME" {% if record.type == "CNAME" %}selected{% endif %}>CNAME</option>
        <option value="TXT" {% if record.type == "TXT" %}selected{% endif %}>TXT</option>
        <option value="MX" {% if record.type == "MX" %}selected{% endif %}>MX</option>
        <option value="NS" {% if record.type == "NS" %}selected{% endif %}>NS</option>
        <option value="SRV" {% if record.type == "SRV" %}selected{% endif %}>SRV</option>
    </select><br>
    <label for="content">Content</label>
    <input type="text" name="content" placeholder="Content" value="{{ record.content }}" required><br>
    <label for="ttl">TTL</label>
    <input type="number" name="ttl" placeholder="TTL" value="{{ record.ttl }}" required><br>
    <label for="priority">Priority</label>
    <input type="number" name="priority" placeholder="Priority" value="{{ record.priority }}"><br>
    <label for="proxied">Proxied</label>
    <input type="checkbox" name="proxied" {% if record.proxied %}checked{% endif %}><br>
    <button type="submit">Save Changes</button>
</form>


<form method="POST" action="{{ url_for('delete_dns_record', record_id=record.id) }}">
    <button type="submit" class="btn btn-link" onclick="return confirm('Are you sure you want to delete this record?')">Delete</button>
</form>
{% endblock %}
